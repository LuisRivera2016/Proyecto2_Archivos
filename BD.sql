------------------------------------------------------------------------------------------MODELO
--//DEPARTAMENTO
CREATE TABLE Departamento(
   id_Departamento NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Capital NUMBER(10,2),
   DepartamentoP VARCHAR2(100),
   CONSTRAINT id_departamento_pk PRIMARY KEY(id_Departamento)
);

--TIPO
CREATE TABLE Tipo(
   id_Tipo NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Rol VARCHAR2(100),
   CONSTRAINT id_tipo_pk PRIMARY KEY(id_Tipo)
);

--PUESTO
CREATE TABLE Puesto(
   id_Puesto NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Salario NUMBER(10,2),
   Calificacion NUMBER(1),
   Disponible NUMBER(1),
   id_Departamento NUMBER(10),
   CONSTRAINT puesto_pk PRIMARY KEY(id_Puesto),
   CONSTRAINT departamento_fk FOREIGN KEY(id_Departamento) REFERENCES Departamento(id_Departamento)
);

--CATEGORIA
CREATE TABLE Categoria(
   id_Categoria NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   CONSTRAINT categoria_pk PRIMARY KEY(id_Categoria)
);

--PUESTO_CATEGORIA
CREATE TABLE Puesto_Categoria(
   id_Puesto_Categoria NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   id_Puesto NUMBER(10),
   id_Categoria NUMBER(10),
   CONSTRAINT puesto_categoria_pk PRIMARY KEY(id_Puesto_Categoria),
   CONSTRAINT puesto_fk FOREIGN KEY(id_Puesto) REFERENCES Puesto(id_Puesto),
   CONSTRAINT categoria_fk FOREIGN KEY(id_Categoria) REFERENCES Categoria(id_Categoria)
);

--REQUISITO
CREATE TABLE Requisito(
   id_Requisito NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Tamano NUMBER(10),
   Obligatorio NUMBER(1),
   CONSTRAINT requisito_pk PRIMARY KEY(id_Requisito)
);

--FORMATO
CREATE TABLE Formato(
   id_Formato NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   id_Requisito NUMBER(10),
   CONSTRAINT formato_pk PRIMARY KEY(id_Formato),
   CONSTRAINT requisito_fk FOREIGN KEY(id_Requisito) REFERENCES Requisito(id_Requisito)
);

--PUESTO_REQUISITO
CREATE TABLE Puesto_Requisito(
   id_Puesto_Requisito NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   id_Puesto NUMBER(10),
   id_Requisito NUMBER(10),
   CONSTRAINT puesto_requisito_pk PRIMARY KEY(id_Puesto_Requisito),
   CONSTRAINT puestoR_fk FOREIGN KEY(id_Puesto) REFERENCES Puesto(id_Puesto),
   CONSTRAINT requisitoP_fk FOREIGN KEY(id_Requisito) REFERENCES Requisito(id_Requisito)
);

--APLICANTE
CREATE TABLE Aplicante(
   id_Aplicante NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Estado NUMBER(1),
   DPI NUMBER(13),
   Nombre VARCHAR2(100),
   Apellido VARCHAR2(100),
   Correo VARCHAR2(100),
   Direccion VARCHAR2(100),
   Telefono NUMBER(10),
   Entrada NUMBER(1),
   CV LONG RAW,
   id_Puesto NUMBER(10),
   CONSTRAINT aplicante_pk PRIMARY KEY(id_Aplicante),
   CONSTRAINT puestoA_fk FOREIGN KEY(id_Puesto) REFERENCES Puesto(id_Puesto)
);

--USUARIO
CREATE TABLE Usuario(
   id_Usuario NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Password VARCHAR2(100),
   Fecha_Creacion DATE,
   Fecha_Fin DATE,
   Estado NUMBER(1),
   id_Tipo NUMBER(10),
   id_Puesto NUMBER(10),
   CONSTRAINT usuario_pk PRIMARY KEY(id_Usuario),
   CONSTRAINT tipoU_fk FOREIGN KEY(id_Tipo) REFERENCES Tipo(id_Tipo),
   CONSTRAINT puestoU_fk FOREIGN KEY(id_Puesto) REFERENCES Puesto(id_Puesto)
);

--CHAT
CREATE TABLE Chat(
   id_Chat NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   id_Usuario1 NUMBER(10),
   id_Usuario2 NUMBER(10),
   CONSTRAINT chat_pk PRIMARY KEY(id_Chat),
   CONSTRAINT usuarioC_fk FOREIGN KEY(id_Usuario1) REFERENCES Usuario(id_Usuario),
   CONSTRAINT usuarioC2_fk FOREIGN KEY(id_Usuario2) REFERENCES Usuario(id_Usuario)
);

--MENSAJE
CREATE TABLE Mensaje(
   id_Mensaje NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Contenido VARCHAR2(255),
   Fecha DATE,
   id_Chat NUMBER(10),
   CONSTRAINT mensaje_pk PRIMARY KEY(id_Mensaje),
   CONSTRAINT chat_fk FOREIGN KEY(id_Chat) REFERENCES Chat(id_Chat)
);

--REVISION
CREATE TABLE Revision(
   id_Revision NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Estado_Revision NUMBER(1),
   id_Usuario NUMBER(10),
   id_Aplicante NUMBER(10),
   CONSTRAINT revision_pk PRIMARY KEY(id_Revision),
   CONSTRAINT usuarioR_fk FOREIGN KEY(id_Usuario) REFERENCES Usuario(id_Usuario),
   CONSTRAINT aplicanteR_fk FOREIGN KEY(id_Aplicante) REFERENCES Aplicante(id_Aplicante)
);

--REVISION_REQUISITO
CREATE TABLE Revision_Requisito(
   id_Revision_Requisito NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Estado NUMBER(1),
   Motivo VARCHAR2(100),
   Fecha_Rechazo DATE,
   id_Revision NUMBER(10),
   id_Puesto_Requisito NUMBER(10),
   CONSTRAINT revion_requisito_pk PRIMARY KEY(id_Revision_Requisito),
   CONSTRAINT revisionR_fk FOREIGN KEY(id_Revision) REFERENCES Revision(id_Revision),
   CONSTRAINT puestoRR_fk FOREIGN KEY(id_Puesto_Requisito) REFERENCES Puesto_Requisito(id_Puesto_Requisito)
);

--ADMIN
CREATE TABLE Admin(
   id_Admin NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Password VARCHAR2(100),
   CONSTRAINT admin_pk PRIMARY KEY(id_Admin)
);

--PRUEBA
CREATE TABLE Prueba(
   id_Prueba NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1),
   Nombre VARCHAR2(100),
   Estado NUMBER(1),
   Telefono NUMBER(10),
   CONSTRAINT prueba_pk PRIMARY KEY(id_Prueba)
);

INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('LUis',0,58299041);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Mario',1,582);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Edward',1,990);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Kevin',0,299);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Brayna',1,041);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Randall',1,199);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Jose',0,290);
INSERT INTO Prueba(Nombre,Estado,Telefono) VALUES('Daniel',1,580);

SELECT * FROM Prueba;

